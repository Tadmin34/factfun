<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>S·ª± Th·∫≠t V√¥ B·ªï</title>
  <style>
    /* Global Styles */
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background-color: #ff007f; /* M√†u h·ªìng ƒë·∫≠m */
      color: #fff;
      padding: 20px;
      overflow-x: hidden;
      transition: opacity 0.3s ease;
      cursor: url("/image-removebg-preview (2).png"), auto;

    }

    .container {
      text-align: center;
      max-width: 800px;
      width: 100%;
      padding: 15px;
      border-radius: 15px;
      background: #ff4d94;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .images-container {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-bottom: 20px;
    }

    img {
      width: 100%;
      width: 300px;
      height: 450px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 20px;
      border: 5px solid #ff0066;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: transform 0.3s ease;
    }

    img:hover {
      transform: scale(1.05);
    }

    .fact {
      margin: 15px 0;
      padding: 15px;
      background: #ff99cc;
      color: #800040;
      font-size: 18px;
      font-weight: bold;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    button {
      background-color: #ff0066;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #ff3385;
    }

    /* Loader */
    .loader {
      border: 16px solid #f3f3f3; /* Light grey */
      border-top: 16px solid #ff007f; /* M√†u h·ªìng */
      border-radius: 50%;
      width: 120px;
      height: 120px;
      animation: spin 2s linear infinite;
      opacity: 0; /* Ban ƒë·∫ßu ·∫©n */
      transition: opacity 0.3s ease;
    }
.loader-container{
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 1);
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 20px;
    color: #fff;
    flex-direction: column;
}
button{
    cursor: pointer;
}
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .images-container {
        flex-direction: column;
        align-items: center;
      }

      img {
        max-width: 100%;
        margin-bottom: 15px;
      }

      .fact {
        font-size: 16px;
      }

      button {
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <div class="loader-container" id="loader-container"><!-- Loader -->
  <div class="loader" id="loader"></div>
<h2>ƒêang t√¨m s·ª± th·∫≠t ü•∞ü•∞ü•∞</h2></div>

  <div class="container">
    <h1>S·ª± Th·∫≠t B·∫•t Ng·ªù</h1>

    <div class="images-container">
      <div>
        <img id="waifu-image" src="" alt="Image" />
      </div>
      <div>
        <img id="neko-image" src="" alt="Image" />
      </div>
    </div>

    <div class="fact" id="fact"></div>

    <button id="reload-button">Reload</button>


  </div>

  <script>
    // API URL cho s·ª± th·∫≠t v√† ·∫£nh Neko
    const factUrl = 'https://uselessfacts.jsph.pl/random.json?language=en';
    const nekoUrl = 'https://api.nekosapi.com/v3/images/random';

    // Bi·∫øn ƒëi·ªÅu ch·ªânh loader opacity
    let loaderOpacity = 0;

    // H√†m l·∫•y s·ª± th·∫≠t ng·∫´u nhi√™n
    async function fetchRandomFact() {
      const response = await fetch(factUrl);
      const data = await response.json();
      const fact = data.text;
      document.getElementById('fact').textContent = await translateFact(fact);
    }

    // H√†m d·ªãch s·ª± th·∫≠t sang ti·∫øng Vi·ªát
    async function translateFact(fact) {
      const translateUrl = `https://api.mymemory.translated.net/get?q=${encodeURIComponent(fact)}&langpair=en|vi`;
      const response = await fetch(translateUrl);
      const data = await response.json();
      return data.responseData.translatedText;
    }

    // H√†m l·∫•y ·∫£nh Neko t·ª´ nekos.best
    async function fetchNekoImage() {
    const response = await fetch(nekoUrl);
    const data = await response.json();

    const nekoImage = document.getElementById('neko-image');
    nekoImage.src = data.items
      .filter(item => item.tags.some(tag => tag.is_nsfw === true))  // Filter NSFW content (optional)
      .map(item => item.image_url)[0];

    // Add click event listener to Neko image
    nekoImage.addEventListener('click', () => {
      window.location.href = nekoImage.src; // Redirect to image URL
    });
  }

  // Function to fetch Waifu image with click event handling
  async function fetchWaifuImage() {
    const waifuApiUrl = 'https://api.waifu.pics/sfw/waifu';
    const response = await fetch(waifuApiUrl);
    const data = await response.json();

    const waifuImage = document.getElementById('waifu-image');
    waifuImage.src = data.url;

    // Add click event listener to Waifu image
    waifuImage.addEventListener('click', () => {
      window.location.href = waifuImage.src; // Redirect to image URL
    })};

    // H√†m kh·ªüi t·∫°o trang khi load
    async function initPage() {
      //
      showLoader(true); 
      await fetchRandomFact();
      await fetchWaifuImage();
      await fetchNekoImage();
      showLoader(false); 
    }

    // H√†m hi·ªÉn th·ªã/·∫©n loader
    function showLoader(isVisible) {
  loaderOpacity = isVisible ? 1 : 0;
  document.getElementById('loader').style.opacity = loaderOpacity;
  document.getElementById('loader-container').style.display = isVisible ? 'flex' : 'none';
}

    // L√†m m·ªõi khi nh·∫•n n√∫t
   // H√†m l√†m m·ªõi s·ª± ki·ªán khi nh·∫•n n√∫t

   document.getElementById('reload-button').addEventListener('click', initPage);

    // Kh·ªüi t·∫°o trang ngay khi m·ªü
    initPage();
  </script>

</body>
</html>
